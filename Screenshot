#!/usr/bin/env sh
#
# ____                           ____  _           _   
#/ ___|  ___ _ __ ___  ___ _ __ / ___|| |__   ___ | |_ 
#\___ \ / __| '__/ _ \/ _ \ '_ \\___ \| '_ \ / _ \| __|
# ___) | (__| | |  __/  __/ | | |___) | | | | (_) | |_ 
#|____/ \___|_|  \___|\___|_| |_|____/|_| |_|\___/ \__|
#                                                      
#Dependencies -> maim, dunst, notify-send

dest="$HOME/Library/Pictures/Screenshots"
filename="Screenshot_$(date +%Y%m%d_%H%M%S).png"  
file="$dest/$filename"

[ -e "$dest" ] || mkdir -p "$dest"

[ "$1" = "full" ] && flags="-Bum 1 " ||
	flags="-Bsum 1 "

maim $flags "$file" 

[ ! $? -eq 0 ] && dunstify -u "critical" -t 3000 -a "System ðŸ’»" "Capture Failed" ||
	 dunstify -u "normal" -t 3000 -a "System ðŸ’» " "$filename" "Screenshot Saved"

